{% extends 'public/base.html' %}
{% load static %}

{% block title %}
<title>Standings | Green Division</title>
{% endblock %}

{% block body%}
            

            <nav class="navbar navbar-expand-lg navbar-light bg-lignt">
                <div class="container-fluid">
                    <button
                        class="navbar-toggler"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent"
                        aria-expanded="false"
                        aria-label="Toggle navigation"
                    >
                        <span class="navbar-toggler-icon"> </span>
                    </button>
                    <div
                        class="collapse navbar-collapse"
                        id="navbarSupportedContent"
                    >
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <li class="nav-item">
                                <a
                                    class="nav-link active"
                                    aria-current="page"
                                    href="{% url 'public:standings' %}"
                                    >Standings</a
                                >
                            </li>
                            {% if request.user.is_authenticated %}
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'public:profile' request.user.id %}"
                                    >Profile</a
                                >
                            </li>
                            <li class="nav-item">
                                <a
                                    class="nav-link"
                                    href="{% url 'public:eligiblilty' request.user.id %}"
                                    >Eligibility</a
                                >
                            </li>
                            {% endif %}
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'public:about' %}"
                                    >About</a
                                >
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="standinglist">
                <h3 class="my-5" style="color: #0a0; text-align: center">
                    Standings
                </h3>
                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th scope="col" class="text-center">
                                <strong>#</strong>
                            </th>
                            <th scope="col">Who</th>
                            <th scope="col">URI Profile</th>
                            <th scope="col" class="text-center">Solve count</th>
                            <th scope="col" class="text-center">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for profile in profiles%}
                        <tr>
                            <th scope="row" class="text-center">{{ forloop.counter }}</th>
                            <td> <a class="text-decoration-none" href="{% url 'public:profile' profile.user.id %}"> {{ profile.name }} </a> </td>
                            <td> <a target="_blank" class="text-decoration-none" href="{{ profile.uri_link }}"> {{ profile.name }} </a> </td>
                            <td class="cnt text-center">{{ profile.solve_count }}</td>
                            {% if profile.status == 'Active' %}
                                <td class="text-success text-center">Active</td>

                            {% elif profile.status == 'Blue' %}
                                <td class="text-primary text-center">Blue Member</td>

                            {% elif profile.status == 'Eligible' %}
                                <td style="color: #0bb text-center">Eligible for Blue</td>

                            {% else %}
                                <td class="text-secondary text-center">Inactive</td>

                            {% endif %}
                        </tr>

                        {% endfor %}

                        {% comment %} <tr>
                            <th scope="row" class="text-center">2</th>
                            <td>Golapi</td>
                            <td>Thornton</td>
                            <td class="cnt text-center">550</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">3</th>
                            <td>Jacob</td>
                            <td>Thornton</td>
                            <td class="cnt text-center">250</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">4</th>
                            <td>Mark</td>
                            <td>Otto</td>
                            <td class="cnt text-center">500</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">5</th>
                            <td>Golapi</td>
                            <td>Thornton</td>
                            <td class="cnt text-center">550</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">6</th>
                            <td>Jacob</td>
                            <td>Thornton</td>
                            <td class="cnt text-center">250</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">7</th>
                            <td>Mark</td>
                            <td>Otto</td>
                            <td class="cnt text-center">500</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">8</th>
                            <td>Golapi</td>
                            <td>Thornton</td>
                            <td class="cnt text-center">550</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">9</th>
                            <td>Jacob</td>
                            <td>Thornton</td>
                            <td class="cnt text-center">250</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">11</th>
                            <td>Jacob</td>
                            <td>Thornton</td>
                            <td class="cnt text-center">250</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">12</th>
                            <td>Mark</td>
                            <td>Otto</td>
                            <td class="cnt text-center">500</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">13</th>
                            <td>Mark</td>
                            <td>Otto</td>
                            <td class="cnt text-center">500</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">14</th>
                            <td>Golapi</td>
                            <td>Thornton</td>
                            <td class="cnt text-center">550</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">15</th>
                            <td>Jacob</td>
                            <td>Thornton</td>
                            <td class="cnt text-center">250</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">16</th>
                            <td>Mark</td>
                            <td>Otto</td>
                            <td class="cnt text-center">500</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">17</th>
                            <td>Golapi</td>
                            <td>Thornton</td>
                            <td class="cnt text-center">550</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">18</th>
                            <td>Jacob</td>
                            <td>Thornton</td>
                            <td class="cnt text-center">250</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">19</th>
                            <td>Mark</td>
                            <td>Otto</td>
                            <td class="cnt text-center">500</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">20</th>
                            <td>Golapi</td>
                            <td>Thornton</td>
                            <td class="cnt text-center">550</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">21</th>
                            <td>Jacob</td>
                            <td>Thornton</td>
                            <td class="cnt text-center">250</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">22</th>
                            <td>Jacob</td>
                            <td>Thornton</td>
                            <td class="cnt text-center">250</td>
                        </tr>
                        <tr>
                            <th scope="row" class="text-center">23</th>
                            <td>Mark</td>
                            <td>Otto</td>
                            <td class="cnt text-center">500</td>
                        </tr> {% endcomment %}
                    </tbody>
                </table>
                 <nav aria-label="...">
                    <ul class="pagination justify-content-center">
                    {% if profiles.has_previous %}
                        <li class="page-item">
                        <a class="page-link" href="?page={{ profiles.previous_page_number }}" tabindex="-1">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                        </li>

                    {% else %}
                        <li class="page-item disabled">
                        <a class="page-link" href="javascript:void(0)" tabindex="-1" aria-disabled="true">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                        </li>

                    {% endif %}

                    {% if profiles.has_next %}
                        <li class="page-item">
                        <a class="page-link" href="?page={{ profiles.next_page_number }}">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                        </li>

                    {% else %}
                        <li class="page-item disabled">
                        <a class="page-link" href="javascript:void(0)" aria-disabled="true">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                        </li>

                    {% endif %}
                    </ul>
                </nav> 
            </div>
        </div>

{% endblock %}